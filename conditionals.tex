% !TEX root = main.tex
\subsection{Conditionals and loops}

\begin{figure}[ht]
$$
\begin{array}{c}
\dfrac{
\step.\code =  \switch{x_\textrm{cond},\bytecode'};\bytecode
\quad \bytecode'' = \left\{\begin{array}{ll}
\bytecode  &\hbox{if}\ s.\memory(x_\textrm{cond}) = \z_\Bool \\
\bytecode';\bytecode&\hbox{otherwise} \\
\end{array}\right.
} 
{
\ctx \vdash s \rar s\set{
\gas\mapsto g-\dmr,
\code\mapsto \bytecode''}
}\rlab{if}
\\\\
\dfrac{
\step.\code =  \switch{x_\textrm{cond},\bytecode'};\bytecode
\quad \bytecode'' = \left\{\begin{array}{ll}
\bytecode &\hbox{if}\ s.\memory(x_\textrm{cond}) = \z_\Bool\\
\bytecode';\while{x_\textrm{cond},\bytecode'};\bytecode &\hbox{otherwise}
\end{array}\right.
} 
{
\ctx \vdash \step \rar \step\set{\gas\mapsto g-\dmr,\code\mapsto \bytecode''}
}\rlab{while} 
\end{array}
$$
\caption{Conditional and while loop.}
\end{figure}